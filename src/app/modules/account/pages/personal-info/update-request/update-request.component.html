<div *ngIf="title"><h2><strong>{{title}}</strong></h2></div>

<div *ngIf="subtitle"><p class="border-bottom">{{subtitle}}</p></div>


<div role="dialog" aria-labelledby="q2" class="form-check mb-2" >
    <common-checkbox  [label]="'Update status in Canada'" (dataChange)="person.updateStatusInCanada = $event; checkStatus($event);" [data]="person.updateStatusInCanada"></common-checkbox>
</div>

<div role="dialog" aria-labelledby="q2" class="form-check mb-2" >
    <common-checkbox  [label]="'Update name - due to marriage or other'" (dataChange)="person.updateNameDueToMarriage = $event; checkStatus($event);" [data]="person.updateNameDueToMarriage"  ></common-checkbox>
</div>

<div role="dialog" aria-labelledby="q2" class="form-check mb-2" >
    <common-checkbox [label]="'Correct name - due to error'" (dataChange)="person.updateNameDueToError = $event; checkStatus($event);" [data]="person.updateNameDueToError"  ></common-checkbox>
</div>

<div role="dialog" aria-labelledby="q2" class="form-check mb-2" >
    <common-checkbox  [label]="'Correct birthdate'" (dataChange)="person.updateBirthdate = $event; checkStatus($event);" [data]="person.updateBirthdate"  ></common-checkbox>
</div>

<div role="dialog" aria-labelledby="q2" class="form-check mb-2" >
    <common-checkbox  [label]="'Correct gender'" (dataChange)="person.updateGender = $event; checkStatus($event);" [data]="person.updateGender"  ></common-checkbox>
</div>

<div role="dialog" aria-labelledby="q2" class="form-check mb-2" >
    <common-checkbox  [label]="'Change gender designation'" (dataChange)="person.updateGenderDesignation = $event; checkStatus($event);" [data]="person.updateGenderDesignation"  ></common-checkbox>
</div>

<!-- Update Status in Canada -->
<div *ngIf="person.updateStatusInCanada">
  <div class="border-bottom">
      <h2><strong> Account Holder's new status in Canada</strong></h2>
  </div>

 
 <label class="control-label"></label>

  <div class="form-group" style="width:250px;">
     <div class="form-group">
          <select style="width:250px;" class="custom-select" [id]="id" [(ngModel)]="person.status" (ngModelChange)="setStatus($event);">
              <ng-container>
                  <option selected disabled="true" value="null">Please Select</option>
                  <option  *ngFor="let item of langStatus" [ngValue]="item.value" [selected]="person.status == item.value">{{ item.label }}</option>
              </ng-container>
          </select>
      </div> 
      <common-radio   
        [radioLabels]="activitiesTable" 
        [value]="person.currentActivity" 
        display="table-row-group"
        (statusChange)= "person.currentActivity = $event; this.dataService.saveMspAccountApp();">
      </common-radio>
  </div>

  <div *ngIf="(person.status == 0 || person.status == 1)">
     <msp-account-file-uploader 
        [title]="'Documents to support new status in Canada'"
        [subtitle]="'Provide one of the required documents to support your immigration status in Canada.'"  
        [items]="itemList" 
        [accountApp]="accountApp"
        [docStatus]="person.docType"
        [doc]="person.updateStatusInCanadaDoc"
        (documentStatus)=" this.person.docType = $event; this.dataService.saveMspAccountApp();"
        (onChange)=" this.person.updateStatusInCanadaDoc = $event; this.dataService.saveMspAccountApp();">
    </msp-account-file-uploader>
  </div>
  

  <div *ngIf="person.currentActivity">
       <msp-account-file-uploader [title]="'Documents to support new status in Canada'"
          subtitle="'Provide one of the required documents to support your immigration status in Canada.'"  
        [items]="workPermitDocs" 
        [accountApp]="accountApp"
        [docStatus]="person.docType"
        [doc]="person.updateStatusInCanadaDoc"
        (documentStatus)=" this.person.docType = $event; this.dataService.saveMspAccountApp();"
        (onChange)=" this.person.updateStatusInCanadaDoc = $event; this.dataService.saveMspAccountApp();"> 
      </msp-account-file-uploader> 
  </div>
</div>

<div *ngIf="person.relationship == 1 && person.updateNameDueToMarriage">
  
  <h2><strong>Spouse's new last name</strong></h2>
  <p class="border-bottom">This name will be printed on spouse's new BC Services Card.</p>
  <div class="form-group">
    <div class="row">
    <div class="col-md-6"> 
    <common-name [ngClass]="{row: useRows}" name="last_name" 
      label="Requested Last Name" required [disabled]="disabled" 
      [(ngModel)]="person.lastName"
      maxlen="30" commonValidateName>
    </common-name>
  </div>
  </div>
  </div>


</div>

<!-- Document Upload Status Section --> 
<div *ngIf="person.updateNameDueToMarriage">
  <msp-account-file-uploader [title]="'Documents - Update name due to marriage or other'"
    subtitle="'Provide one of the required documents to support your immigration status in Canada.'"  
    [items]="nameChangeitems" 
    [accountApp]="accountApp"
    [docStatus]="person.updateNameDueToMarriageDocType"
    [doc]="person.updateNameDueDoc"
    (documentStatus)="selectDocStatus($event)"
    (onChange)="uploadDocument($event);"> 
  </msp-account-file-uploader>
</div>

<div *ngIf="person.updateNameDueToError">
  <msp-account-file-uploader [title]="'Documents - Correct name'"
      subtitle="'Provide one of the required documents to support your immigration status in Canada.'" 
      [items]="correctNameDocs" 
      [accountApp]="accountApp"
      [docStatus]="person.updateNameDueToErrorDocType"
      [doc]="person.updateNameDueToErrorDoc"
      (documentStatus)=" this.person.updateNameDueToErrorDocType = $event; this.dataService.saveMspAccountApp();"
      (onChange)=" this.person.updateNameDueToErrorDoc = $event; this.dataService.saveMspAccountApp();">
 </msp-account-file-uploader>
</div>

<div *ngIf="person.updateBirthdate">
  <msp-account-file-uploader 
      [title]="'Documents - Correct birthdate'" 
      subtitle="'Provide one of the required documents to support your immigration status in Canada.'"
      [items]="correctBirthDateDocs" 
      [accountApp]="accountApp"
      [docStatus]="person.updateBirthdateDocType"
      [doc]="person.updateBirthdateDoc"
      (documentStatus)=" this.person.updateBirthdateDocType = $event; this.dataService.saveMspAccountApp();"
      (onChange)=" this.person.updateBirthdateDoc = $event; this.dataService.saveMspAccountApp();"> 
  </msp-account-file-uploader>
</div>

<div *ngIf="person.updateGender">
    <msp-account-file-uploader [title]="'Documents - Correct gender'"
        subtitle="'Provide one of the required documents to support your immigration status in Canada.'" 
        [items]="correctBirthDateDocs" 
        [accountApp]="accountApp"
        [docStatus]="person.updateGenderDocType"
        [doc]="person.updateGenderDoc"
        (documentStatus)=" this.person.updateGenderDocType = $event; this.dataService.saveMspAccountApp();"
        (onChange)=" this.person.updateGenderDoc = $event; this.dataService.saveMspAccountApp();"> 
    </msp-account-file-uploader>
</div>

<div *ngIf="person.updateGenderDesignation">
    <msp-account-file-uploader [title]="'Documents - Change gender designation'"
      subtitle="'Provide one of the required documents to support your immigration status in Canada.'"
      [items]="changeGenderDesignationDocs" 
      [accountApp]="accountApp"
      [docStatus]="person.updateGenderDesignationDocType"
      [doc]="person.updateGenderDesignationDoc"
      (documentStatus)=" this.person.updateGenderDesignationDocType = $event; this.dataService.saveMspAccountApp();"
      (onChange)=" this.person.updateGenderDesignationDoc = $event; this.dataService.saveMspAccountApp();"> 
    </msp-account-file-uploader>
</div>


